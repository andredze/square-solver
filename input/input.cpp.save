#include "common.h"
#include "input.h"

int get_input (Equation_t* equation, FILE* stream)
{
    char line[MAXLEN];
    int user_exit = 0;

    while (1)
    {
        if (fgets (line, MAXLEN, stream) != NULL)
        {
            if (sscanf (line, "%lg %lg %lg", equation->a, equation->b, equation->c) != 1)
                {
                    printf ("Viydi i vvedi normalno\n\n");
                }
            else
            {
                return 0;
            }
        }
        else
        {
            return 1;
        }
    }
    user_exit =

    return user_exit;
}

int get_coefficient_keyboard (char name, double* pointer)
{
    while (1)
    {
        printf ("Enter %c: ", name);
        char line[MAXLEN];

        if (fgets (line, MAXLEN, stdin) != NULL)
        {
            if (sscanf (line, "%lg", pointer) != 1)
            {
                printf ("Viydi i vvedi normalno\n\n");
            }
            else
            {
                return 0;
            }
        }
        else
        {
            return 1;
        }
    }
    return 0;
}

int get_coefficient_file (char name, double* pointer, FILE* stream)
{
    while (1)
    {
        printf ("%c: ", name);
        char line[MAXLEN];

        if (fgets (line, MAXLEN, stream) != NULL)
        {
            if (sscanf (line, "%lg", pointer) != 1)
            {
                printf ("Sozday fael normalno\n\n");
            }
            else
            {
                printf ("%s", line);
                return 0;
            }
        }
        else
        {
            return 1;
        }
    }
    return 0;
}
